<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chinese Culture Appreciation CCA 内部讨论组</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            text-align: center;
        }
        .container {
            max-width: 800px;
            margin: 50px auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .post {
            background: white;
            padding: 10px;
            margin-top: 10px;
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
            position: relative;
        }
        .delete-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: red;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
        }
        .password-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
    </style>
</head>
<body>
    <div class="password-screen" id="passwordScreen">
        <h2>请输入密码进入</h2>
        <input type="password" id="passwordInput" placeholder="输入密码">
        <button onclick="checkPassword()">提交</button>
    </div>
    
    <div class="container" id="content" style="display: none;">
        <button onclick="switchLanguage('zh')">中文</button>
        <button onclick="switchLanguage('en')">English</button>
        <h1 id="title">Chinese Culture Appreciation CCA 内部讨论组</h1>
        <p id="welcome">欢迎来到内部讨论区，在这里可以发布想法、讨论话题，与同学互动。</p>
        
        <div class="post-section">
            <h2 id="newPost">发布新帖</h2>
            <textarea id="postInput" placeholder="写下你的帖子内容..."></textarea>
            <button onclick="addPost()" id="postButton">发布</button>
        </div>
        
        <div id="posts" class="posts">
            <h2 id="postList">帖子列表</h2>
        </div>
    </div>
    
    <script>
        if (localStorage.getItem("authenticated") === "true") {
            document.getElementById("passwordScreen").style.display = "none";
            document.getElementById("content").style.display = "block";
        }
        
        function checkPassword() {
            var password = document.getElementById("passwordInput").value;
            if (password === "114514") {
                localStorage.setItem("authenticated", "true");
                document.getElementById("passwordScreen").style.display = "none";
                document.getElementById("content").style.display = "block";
            } else {
                alert("密码错误，拒绝访问！");
            }
        }
        
        function addPost() {
            var postInput = document.getElementById("postInput");
            var postText = postInput.value.trim();
            var postsSection = document.getElementById("posts");
            if (postText !== "") {
                var newPost = document.createElement("div");
                newPost.classList.add("post");
                var timestamp = new Date().toLocaleString();
                newPost.innerHTML = `<p>${postText}</p><div class="info">发表于 ${timestamp}</div>` +
                                   `<button class="delete-btn" onclick="deletePost(this)">删除</button>`;
                postsSection.appendChild(newPost);
                savePosts();
                postInput.value = "";
            }
        }
        
        function savePosts() {
            localStorage.setItem("posts", document.getElementById("posts").innerHTML);
        }
        
        function loadPosts() {
            var savedPosts = localStorage.getItem("posts");
            if (savedPosts) {
                document.getElementById("posts").innerHTML = savedPosts;
            }
        }
        
        function deletePost(button) {
            button.parentElement.remove();
            savePosts();
        }
        
        function switchLanguage(lang) {
            const texts = {
                zh: { title: "Chinese Culture Appreciation CCA 内部讨论组", welcome: "欢迎来到内部讨论区，在这里可以发布想法、讨论话题，与同学互动。", newPost: "发布新帖", postButton: "发布", postList: "帖子列表" },
                en: { title: "Chinese Culture Appreciation CCA Discussion Group", welcome: "Welcome to the discussion area. Here, you can share ideas, discuss topics, and interact with fellow students.", newPost: "New Post", postButton: "Post", postList: "Post List" }
            };
            document.getElementById("title").textContent = texts[lang].title;
            document.getElementById("welcome").textContent = texts[lang].welcome;
            document.getElementById("newPost").textContent = texts[lang].newPost;
            document.getElementById("postButton").textContent = texts[lang].postButton;
            document.getElementById("postList").textContent = texts[lang].postList;
        }
        
        window.onload = loadPosts;
    </script>
</body>
</html>

